{"version":3,"file":"hax-body-behaviors.umd.js","sources":["lib/HAXWiring.js"],"sourcesContent":["/**\n * Copyright 2018 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { dom } from \"@polymer/polymer/lib/legacy/polymer.dom.js\";\n\n/**\n * Object to validate HAX\n */\nexport class HAXWiring {\n  constructor() {\n    /**\n     * haxProperties\n     */\n    this.haxProperties = {\n      canScale: false,\n      canPosition: false,\n      canEditSource: false,\n      settings: {\n        quick: [],\n        configure: [],\n        advanced: []\n      },\n      wipeSlot: {}\n    };\n    /**\n     * Setter to bridge private haxProperties setter.\n     * This is to then be implemented by the ready state of whatever is supplying the\n     * properties in order to be able to bubble up the properties for a tag.\n     */\n    this.setHaxProperties = (\n      props,\n      tag = \"\",\n      context = document,\n      isReady = false\n    ) => {\n      // these are a core piece of hax capabilities\n      // set them in the event this got called without anything\n      // so we at least won't bomb\n      if (typeof props.api === typeof undefined) {\n        props.api = \"1\";\n      }\n      // sets us up for future API versioning of property validation\n      // and clean up.\n      if (props.api == \"1\") {\n        if (typeof props.canPosition === typeof undefined) {\n          props.canPosition = true;\n        }\n        if (typeof props.canScale === typeof undefined) {\n          props.canScale = true;\n        }\n        if (typeof props.canEditSource === typeof undefined) {\n          props.canEditSource = false;\n        }\n        if (typeof props.gizmo === typeof undefined) {\n          props.gizmo = false;\n        }\n        // while not required, this is where all the raw power of this\n        // approach really lies since this wires properties/slots to HAX's\n        // ability to manipulate things via contextual menus\n        if (typeof props.settings !== typeof undefined) {\n          // loop through any potential settings in each of the three\n          // groupings of possible settings and validate that each setting is accurate\n          if (typeof props.settings.quick === typeof undefined) {\n            props.settings.quick = [];\n          }\n          for (let i = 0; i < props.settings.quick.length; i++) {\n            props.settings.quick[i] = this.validateSetting(\n              props.settings.quick[i]\n            );\n            // account for a bad property and remove it\n            if (!props.settings.quick[i]) {\n              props.settings.quick.splice(i, 1);\n            }\n          }\n          if (typeof props.settings.configure === typeof undefined) {\n            props.settings.configure = [];\n          }\n          for (let i = 0; i < props.settings.configure.length; i++) {\n            props.settings.configure[i] = this.validateSetting(\n              props.settings.configure[i]\n            );\n            if (!props.settings.configure[i]) {\n              props.settings.configure.splice(i, 1);\n            }\n          }\n          if (typeof props.settings.advanced === typeof undefined) {\n            props.settings.advanced = [];\n          }\n          for (let i = 0; i < props.settings.advanced.length; i++) {\n            props.settings.advanced[i] = this.validateSetting(\n              props.settings.advanced[i]\n            );\n            if (!props.settings.advanced[i]) {\n              props.settings.advanced.splice(i, 1);\n            }\n          }\n          // allow classes to be modified this way\n          props.settings.advanced.push({\n            attribute: \"class\",\n            title: \"Classes\",\n            description: \"CSS classes applied manually to the element\",\n            inputMethod: \"textfield\"\n          });\n          // allow styles to be modified this way\n          props.settings.advanced.push({\n            attribute: \"style\",\n            title: \"Styles\",\n            description: \"Custom CSS styles as applied to the element\",\n            inputMethod: \"textfield\"\n          });\n          // allow schema definitions\n          props.settings.advanced.push({\n            attribute: \"prefix\",\n            title: \"Schema: prefix\",\n            description: \"Schema prefixes\",\n            inputMethod: \"textfield\"\n          });\n          props.settings.advanced.push({\n            attribute: \"typeof\",\n            title: \"Schema: TypeOf\",\n            description: \"typeof definition for Schema usage\",\n            inputMethod: \"textfield\"\n          });\n          props.settings.advanced.push({\n            attribute: \"property\",\n            title: \"Schema: Property\",\n            description: \"typeof definition for Schema usage\",\n            inputMethod: \"textfield\"\n          });\n          props.settings.advanced.push({\n            attribute: \"resource\",\n            title: \"Schema: Resource ID\",\n            description: \"Schema resource identifier\",\n            inputMethod: \"textfield\"\n          });\n          // allow the id to be modified\n          props.settings.advanced.push({\n            attribute: \"id\",\n            title: \"ID\",\n            description: \"element ID, only set this if you know why\",\n            inputMethod: \"textfield\"\n          });\n          props.settings.advanced.push({\n            attribute: \"slot\",\n            title: \"slot\",\n            description: \"DOM slot area\",\n            inputMethod: \"textfield\"\n          });\n        }\n        // support for advanced save options\n        if (typeof props.saveOptions === typeof undefined) {\n          props.saveOptions = {\n            wipeSlot: false\n          };\n        }\n        // fire event so we know they have been set for the store to collect\n        // only fire if we haven't already so multiple elements don't keep bubbling\n\n        // if there's no global HaxStore then this means it is a custom\n        // implementation of the schema\n        if (isReady) {\n          if (tag !== \"\" && typeof window.HaxStore === typeof undefined) {\n            const evt = new CustomEvent(\"hax-register-properties\", {\n              bubbles: true,\n              cancelable: true,\n              detail: {\n                tag: tag.toLowerCase(),\n                properties: props,\n                polymer: false\n              }\n            });\n            context.dispatchEvent(evt);\n          } else if (\n            tag !== \"\" &&\n            typeof window.HaxStore !== typeof undefined &&\n            typeof window.HaxStore.instance !== typeof undefined &&\n            window.HaxStore.instance != null &&\n            typeof window.HaxStore.instance.elementList !== typeof undefined &&\n            typeof window.HaxStore.instance.elementList[tag.toLowerCase()] ===\n              typeof undefined\n          ) {\n            const evt = new CustomEvent(\"hax-register-properties\", {\n              bubbles: true,\n              cancelable: true,\n              detail: {\n                tag: tag.toLowerCase(),\n                properties: props\n              }\n            });\n            context.dispatchEvent(evt);\n          } else if (\n            typeof this.tagName !== typeof undefined &&\n            typeof window.HaxStore !== typeof undefined &&\n            typeof window.HaxStore.instance !== typeof undefined &&\n            window.HaxStore.instance != null &&\n            typeof window.HaxStore.instance.elementList !== typeof undefined &&\n            typeof window.HaxStore.instance.elementList[\n              this.tagName.toLowerCase()\n            ] === typeof undefined\n          ) {\n            const evt = new CustomEvent(\"hax-register-properties\", {\n              bubbles: true,\n              cancelable: true,\n              detail: {\n                tag: this.tagName.toLowerCase(),\n                properties: props\n              }\n            });\n            context.dispatchEvent(evt);\n          }\n        }\n        // only set these when tag hasn't been force fed\n        if (tag === \"\") {\n          if (typeof this._setHaxProperties === \"function\") {\n            this._setHaxProperties(props);\n          } else {\n            this.haxProperties = props;\n          }\n        }\n      } else {\n        // especially useful during development if we implement our own API\n        // incorrectly. Don't hard brick cause it'll still more or less work\n        // but would probably default to an iframe which is less then ideal\n        // but at least wouldn't brick the AX.\n        console.warn(\n          \"This is't a valid usage of hax-body-behaviors API. See hax-body-behaviors for more details on how to implement the API. Most likely your hax item just was placed in an iframe as a fallback as opposed to a custom element.\"\n        );\n      }\n    };\n    /**\n     * Validate settings object.\n     */\n    this.validateSetting = setting => {\n      // we don't have a property or slot so it's not valid.\n      if (\n        typeof setting.property === typeof undefined &&\n        typeof setting.slot === typeof undefined &&\n        typeof setting.attribute === typeof undefined\n      ) {\n        return false;\n      }\n      // ensure there's a title\n      if (typeof setting.title === typeof undefined) {\n        if (typeof setting.attribute === typeof undefined) {\n          setting.title = setting.property;\n        } else {\n          setting.title = setting.attribute;\n        }\n      }\n      // ensure there's at least an empty description\n      if (typeof setting.description === typeof undefined) {\n        setting.description = \"\";\n      }\n      // ensure there's at least an input method\n      if (typeof setting.inputMethod === typeof undefined) {\n        setting.inputMethod = \"textfield\";\n      }\n      // ensure there's at least a type\n      if (typeof setting.type === typeof undefined) {\n        setting.type = \"settings\";\n      }\n      // ensure there's at least an icon\n      if (typeof setting.icon === typeof undefined) {\n        setting.icon = \"android\";\n      }\n      // ensure there's at least an empty options area\n      if (typeof setting.options === typeof undefined) {\n        setting.options = {};\n      }\n      // ensure there's required set\n      if (typeof setting.required === typeof undefined) {\n        setting.required = false;\n      }\n      // ensure there's validation or make it anything if none set\n      if (typeof setting.validation === typeof undefined) {\n        setting.validation = \".*\";\n      }\n      // ensure there's validation or make it anything if none set\n      if (typeof setting.validationType === typeof undefined) {\n        setting.validationType = \"\";\n      }\n      return setting;\n    };\n    /**\n     * Match convention for set.\n     */\n    this.getHaxProperties = () => {\n      return this.haxProperties;\n    };\n    /**\n     * Convert haxProperties structure to a simple json-schema.\n     * This allows for complex form building systems based on this data.\n     * type is configure or advanced\n     */\n    this.getHaxJSONSchema = (type, haxProperties, target = this) => {\n      if (typeof type === typeof undefined) {\n        type = \"configure\";\n      }\n      if (typeof haxProperties === typeof undefined) {\n        haxProperties = target.haxProperties;\n      }\n      var slot = \"\";\n      let settings = haxProperties.settings[type];\n      var schema = {\n        $schema: \"http://json-schema.org/schema#\",\n        title: \"HAX \" + type + \" form schema\",\n        type: \"object\",\n        properties: {}\n      };\n      schema.properties = target._getHaxJSONSchemaProperty(settings, target);\n      // support post processing of schema in order to allow for really\n      // custom implementations that are highly dynamic in nature\n      schema = target.postProcessgetHaxJSONSchema(schema);\n      return schema;\n    };\n    /**\n     * Default postProcessgetHaxJSONSchema to be overridden.\n     */\n    this.postProcessgetHaxJSONSchema = schema => {\n      return schema;\n    };\n    /**\n     * Internal helper for getHaxJSONSchema to buiild the properties object\n     * correctly with support for recursive nesting thx to objects / arrays.\n     */\n    this._getHaxJSONSchemaProperty = (settings, target) => {\n      var props = {};\n      for (var value in settings) {\n        if (settings.hasOwnProperty(value)) {\n          if (typeof settings[value].property !== typeof undefined) {\n            props[settings[value].property] = {\n              title: settings[value].title,\n              type: target.getHaxJSONSchemaType(settings[value].inputMethod)\n            };\n            if (typeof target[settings[value].property] !== typeof undefined) {\n              props[settings[value].property].value =\n                target[settings[value].property];\n            }\n            if (settings[value].validationType == \"url\") {\n              props[settings[value].property].format = \"uri\";\n            }\n            if (settings[value].inputMethod == \"datepicker\") {\n              props[settings[value].property].format = \"date-time\";\n            }\n            if (settings[value].validation != \".*\") {\n              props[settings[value].property].pattern =\n                settings[value].validation;\n            }\n            switch (settings[value].inputMethod) {\n              case \"number\":\n                props[settings[value].property].component = {\n                  name: \"paper-input\",\n                  valueProperty: \"value\",\n                  properties: {\n                    required: settings[value].required\n                  },\n                  attributes: {\n                    type: \"number\"\n                  }\n                };\n                break;\n              case \"select\":\n                slot = \"\";\n                if (typeof settings[value].options !== typeof undefined) {\n                  for (var val in settings[value].options) {\n                    slot +=\n                      '<paper-item value=\"' +\n                      val +\n                      '\">' +\n                      settings[value].options[val] +\n                      \"</paper-item>\" +\n                      \"\\n\";\n                  }\n                }\n                props[settings[value].property].component = {\n                  name: \"dropdown-select\",\n                  valueProperty: \"value\",\n                  slot: slot,\n                  properties: {\n                    required: settings[value].required\n                  }\n                };\n                break;\n              case \"textarea\":\n                props[settings[value].property].component = {\n                  name: \"paper-textarea\",\n                  valueProperty: \"value\",\n                  properties: {\n                    required: settings[value].required\n                  },\n                  attributes: {\n                    \"auto-validate\": \"auto-validate\",\n                    \"char-counter\": \"char-counter\"\n                  }\n                };\n                break;\n              case \"code-editor\":\n                props[settings[value].property].component = {\n                  name: \"code-editor\",\n                  valueProperty: \"editorValue\",\n                  attributes: {\n                    id: \"haxcodeeditor\"\n                  },\n                  properties: {\n                    title: settings[value].title,\n                    readOnly: false,\n                    theme: \"ace/theme/monokai\",\n                    mode: \"ace/mode/html\",\n                    fontsize: \"16px\",\n                    className: \"hax-code-editor\"\n                  }\n                };\n                break;\n              case \"array\":\n                props[settings[value].property].items = {\n                  type: \"object\",\n                  properties: target._getHaxJSONSchemaProperty(\n                    settings[value].properties,\n                    target\n                  )\n                };\n                break;\n              case \"textfield\":\n                props[settings[value].property].component = {\n                  name: \"paper-input\",\n                  valueProperty: \"value\",\n                  properties: {\n                    required: settings[value].required\n                  },\n                  attributes: {\n                    \"auto-validate\": \"auto-validate\"\n                  }\n                };\n                break;\n              case \"alt\":\n                props[settings[value].property].component = {\n                  name: \"paper-input-flagged\",\n                  valueProperty: \"value\",\n                  properties: {\n                    required: settings[value].required\n                  },\n                  attributes: {\n                    \"auto-validate\": \"auto-validate\"\n                  }\n                };\n                break;\n              case \"colorpicker\":\n                props[settings[value].property].component = {\n                  name: \"paper-swatch-picker\",\n                  valueProperty: \"color\",\n                  properties: {\n                    required: settings[value].required\n                  }\n                };\n                break;\n              case \"iconpicker\":\n                props[settings[value].property].component = {\n                  name: \"paper-icon-picker\",\n                  valueProperty: \"icon\",\n                  properties: {\n                    required: settings[value].required\n                  }\n                };\n                // support options array of icons to pick from\n                if (settings[value].options.constructor === Array) {\n                  props[\n                    settings[value].property\n                  ].component.properties.iconList = settings[value].options;\n                }\n                break;\n              case \"datepicker\":\n                props[settings[value].property].component = {\n                  name: \"app-datepicker\",\n                  valueProperty: \"date\",\n                  properties: {\n                    required: settings[value].required,\n                    autoUpdateDate: true\n                  }\n                };\n                break;\n            }\n          } else if (typeof settings[value].attribute !== typeof undefined) {\n            props[settings[value].attribute] = {\n              title: settings[value].title,\n              type: target.getHaxJSONSchemaType(settings[value].inputMethod)\n            };\n            // special support for className\n            if (settings[value].attribute === \"class\") {\n              props[settings[value].attribute].value = target.className;\n            } else if (settings[value].attribute === \"style\") {\n              props[settings[value].attribute].value = target.style.cssText;\n            } else if (\n              typeof target.attributes[settings[value].attribute] !==\n              typeof undefined\n            ) {\n              props[settings[value].attribute].value = target.getAttribute(\n                settings[value].attribute\n              );\n            }\n            // special validation on uri based attributes\n            if (value == \"href\" || value == \"src\") {\n              props[settings[value].attribute].format = \"uri\";\n            }\n            if (settings[value].validationType == \"url\") {\n              props[settings[value].attribute].format = \"uri\";\n            }\n            if (settings[value].inputMethod == \"datepicker\") {\n              props[settings[value].attribute].format = \"date-time\";\n            }\n            if (settings[value].validation != \".*\") {\n              props[settings[value].attribute].pattern =\n                settings[value].validation;\n            }\n            switch (settings[value].inputMethod) {\n              case \"number\":\n                props[settings[value].attribute].component = {\n                  name: \"paper-input\",\n                  valueProperty: \"value\",\n                  properties: {\n                    required: settings[value].required\n                  },\n                  attributes: {\n                    type: \"number\"\n                  }\n                };\n                break;\n              case \"select\":\n                slot = \"\";\n                if (typeof settings[value].options !== typeof undefined) {\n                  for (var val in settings[value].options) {\n                    slot +=\n                      '<paper-item value=\"' +\n                      val +\n                      '\">' +\n                      settings[value].options[val] +\n                      \"</paper-item>\" +\n                      \"\\n\";\n                  }\n                }\n                props[settings[value].attribute].component = {\n                  name: \"dropdown-select\",\n                  valueProperty: \"value\",\n                  slot: slot,\n                  properties: {\n                    required: settings[value].required\n                  }\n                };\n                break;\n              case \"textarea\":\n                props[settings[value].attribute].component = {\n                  name: \"paper-textarea\",\n                  valueProperty: \"value\",\n                  properties: {\n                    required: settings[value].required\n                  },\n                  attributes: {\n                    \"auto-validate\": \"auto-validate\",\n                    \"char-counter\": \"char-counter\"\n                  }\n                };\n                break;\n              case \"code-editor\":\n                props[settings[value].attribute].component = {\n                  name: \"code-editor\",\n                  valueProperty: \"editorValue\",\n                  attributes: {\n                    id: \"haxcodeeditor\"\n                  },\n                  properties: {\n                    title: settings[value].title,\n                    readOnly: false,\n                    theme: \"ace/theme/monokai\",\n                    mode: \"ace/mode/html\",\n                    fontsize: \"16px\",\n                    className: \"hax-code-editor\"\n                  }\n                };\n                break;\n              case \"textfield\":\n                props[settings[value].attribute].component = {\n                  name: \"paper-input\",\n                  valueProperty: \"value\",\n                  properties: {\n                    required: settings[value].required\n                  },\n                  attributes: {\n                    \"auto-validate\": \"auto-validate\"\n                  }\n                };\n                break;\n              case \"alt\":\n                props[settings[value].attribute].component = {\n                  name: \"paper-input-flagged\",\n                  valueProperty: \"value\",\n                  properties: {\n                    required: settings[value].required\n                  },\n                  attributes: {\n                    \"auto-validate\": \"auto-validate\"\n                  }\n                };\n                break;\n              case \"colorpicker\":\n                props[settings[value].attribute].component = {\n                  name: \"paper-swatch-picker\",\n                  valueProperty: \"color\",\n                  properties: {\n                    required: settings[value].required\n                  }\n                };\n                break;\n            }\n          } else {\n            // @todo slot should support other editor types... maybe\n            props[settings[value].slot] = {\n              title: settings[value].title,\n              type: target.getHaxJSONSchemaType(settings[value].inputMethod),\n              value: \"\",\n              component: {\n                name: \"code-editor\",\n                valueProperty: \"editorValue\",\n                attributes: {\n                  id: \"haxcodeeditor\"\n                },\n                properties: {\n                  title: settings[value].title,\n                  readOnly: false,\n                  theme: \"ace/theme/monokai\",\n                  mode: \"ace/mode/html\",\n                  fontsize: \"16px\",\n                  className: \"hax-code-editor\"\n                }\n              }\n            };\n            let slot = \"\";\n            // test for slotted content values names is tricky\n            for (var i in dom(target).childNodes) {\n              // this is crazy... you know that right\n              if (typeof dom(target).childNodes[i] !== typeof undefined) {\n                if (dom(target).childNodes[i].nodeType === 1) {\n                  slot += dom(target).childNodes[i].innerHTML;\n                } else if (\n                  dom(target).childNodes[i].nodeType !== 1 &&\n                  typeof dom(target).childNodes[i].textContent !==\n                    typeof undefined &&\n                  dom(target).childNodes[i].textContent !== \"\"\n                ) {\n                  slot += dom(target).childNodes[i].textContent;\n                }\n              }\n            }\n            props[settings[value].slot].component.slot =\n              \"<template>\" + slot + \"</template>\";\n          }\n        }\n      }\n      return props;\n    };\n    /**\n     * Convert input method to schedma type\n     */\n    this.getHaxJSONSchemaType = inputMethod => {\n      var methods = this.validHAXPropertyInputMethod();\n      if (methods.includes(inputMethod)) {\n        switch (inputMethod) {\n          case \"flipboolean\":\n          case \"boolean\":\n            return \"boolean\";\n            break;\n          case \"number\":\n            return \"number\";\n            break;\n          case \"select\":\n          case \"textarea\":\n          case \"colorpicker\":\n          case \"iconpicker\":\n          case \"datepicker\":\n          case \"textfield\":\n          case \"alt\":\n            return \"string\";\n            break;\n          case \"array\":\n            return \"array\";\n            break;\n          default:\n            return \"string\";\n            break;\n        }\n      }\n    };\n    /**\n     * List valid input methods.\n     */\n    this.validHAXPropertyInputMethod = () => {\n      var methods = [\n        \"flipboolean\",\n        \"boolean\",\n        \"select\",\n        \"textfield\",\n        \"textarea\",\n        \"datepicker\",\n        \"colorpicker\",\n        \"iconpicker\",\n        \"alt\",\n        \"number\",\n        \"code-editor\",\n        \"array\"\n      ];\n      return methods;\n    };\n    /**\n     * Return a haxProperties prototype / example structure\n     */\n    this.prototypeHaxProperties = () => {\n      // example properties valid for HAX context menu.\n      let props = {\n        api: \"1\",\n        canScale: true,\n        canPosition: true,\n        canEditSource: false,\n        gizmo: {\n          title: \"Tag name\",\n          description: \"A description\",\n          icon: \"av:play-circle-filled\",\n          color: \"blue\",\n          groups: [\"Content\"],\n          handles: [\n            {\n              type: \"data\",\n              url: \"src\"\n            }\n          ],\n          meta: {\n            author: \"\"\n          }\n        },\n        settings: {\n          quick: [\n            {\n              property: \"title\",\n              title: \"Title\",\n              inputMethod: \"textfield\",\n              icon: \"android\"\n            },\n            {\n              property: \"primaryColor\",\n              title: \"Primary color\",\n              inputMethod: \"colorpicker\",\n              icon: \"color\"\n            }\n          ],\n          configure: [\n            {\n              slot: \"\",\n              title: \"Inner content\",\n              description: \"The slotted content that lives inside the tag\",\n              inputMethod: \"textfield\",\n              icon: \"android\",\n              required: true,\n              validationType: \"text\"\n            },\n            {\n              slot: \"button\",\n              title: \"Button content\",\n              description: \"The content that can override the button\",\n              inputMethod: \"textfield\",\n              icon: \"android\",\n              required: true,\n              validationType: \"text\"\n            },\n            {\n              property: \"title\",\n              title: \"Title\",\n              description: \"\",\n              inputMethod: \"textfield\",\n              icon: \"android\",\n              required: true,\n              validationType: \"text\"\n            },\n            {\n              property: \"primaryColor\",\n              title: \"Title\",\n              description: \"\",\n              inputMethod: \"textfield\",\n              icon: \"android\",\n              required: false,\n              validation: \".*\",\n              validationType: \"text\"\n            }\n          ],\n          advanced: [\n            {\n              property: \"secondaryColor\",\n              title: \"Secondary color\",\n              description:\n                \"An optional secondary color used in certain edge cases.\",\n              inputMethod: \"colorpicker\",\n              icon: \"color\"\n            },\n            {\n              property: \"endPoint\",\n              title: \"API endpoint\",\n              description:\n                \"An optional endpoint to hit and load in more data dymaically.\",\n              inputMethod: \"textfield\",\n              icon: \"android\",\n              validation: \"[a-z0-9]\",\n              validationType: \"url\"\n            }\n          ]\n        },\n        saveOptions: {\n          wipeSlot: false,\n          unsetAttributes: [\"end-point\", \"secondary-color\"]\n        }\n      };\n      return props;\n    };\n  }\n}\n// invoke an instance so we can support behaviors as well\nwindow.HAXWiring = new HAXWiring();\n// ensure HAXPropertiesBehaviors exists\nwindow.HAXBehaviors = window.HAXBehaviors || {};\nwindow.HAXBehaviors.PropertiesBehaviors = {\n  properties: {\n    /**\n     * haxProperties\n     */\n    haxProperties: window.HAXWiring.haxProperties\n  },\n  /**\n   * Setter to bridge private haxProperties setter.\n   * This is to then be implemented by the ready state of whatever is supplying the\n   * properties in order to be able to bubble up the properties for a tag.\n   */\n  setHaxProperties: function(props, tag = \"\", context = this) {\n    if (typeof this.tagName !== typeof undefined) {\n      tag = this.tagName.toLowerCase();\n    }\n    window.addEventListener(\"hax-store-ready\", this._haxStoreReady.bind(this));\n    if (\n      typeof window.HaxStore !== typeof undefined &&\n      window.HaxStore.instance != null &&\n      window.HaxStore.ready\n    ) {\n      return window.HAXWiring.setHaxProperties(props, tag, context, true);\n    } else {\n      return window.HAXWiring.setHaxProperties(props, tag, context, false);\n    }\n  },\n  /**\n   * Private function to fire off props when ready\n   */\n  _haxStoreReady: function(e) {\n    if (\n      e.detail &&\n      typeof this.tagName !== typeof undefined &&\n      typeof this.haxProperties !== typeof undefined\n    ) {\n      let tag = this.tagName;\n      let props = this.haxProperties;\n      let context = this;\n      if (tag !== \"\" && typeof window.HaxStore === typeof undefined) {\n        const evt = new CustomEvent(\"hax-register-properties\", {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            tag: tag.toLowerCase(),\n            properties: props,\n            polymer: false\n          }\n        });\n        context.dispatchEvent(evt);\n      } else if (\n        tag !== \"\" &&\n        typeof window.HaxStore !== typeof undefined &&\n        typeof window.HaxStore.instance !== typeof undefined &&\n        window.HaxStore.instance != null &&\n        typeof window.HaxStore.instance.elementList !== typeof undefined &&\n        typeof window.HaxStore.instance.elementList[tag.toLowerCase()] ===\n          typeof undefined\n      ) {\n        const evt = new CustomEvent(\"hax-register-properties\", {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            tag: tag.toLowerCase(),\n            properties: props\n          }\n        });\n        context.dispatchEvent(evt);\n      } else if (\n        typeof this.tagName !== typeof undefined &&\n        typeof window.HaxStore !== typeof undefined &&\n        typeof window.HaxStore.instance !== typeof undefined &&\n        window.HaxStore.instance != null &&\n        typeof window.HaxStore.instance.elementList !== typeof undefined &&\n        typeof window.HaxStore.instance.elementList[\n          this.tagName.toLowerCase()\n        ] === typeof undefined\n      ) {\n        const evt = new CustomEvent(\"hax-register-properties\", {\n          bubbles: true,\n          cancelable: true,\n          detail: {\n            tag: this.tagName.toLowerCase(),\n            properties: props\n          }\n        });\n        context.dispatchEvent(evt);\n      }\n    }\n  },\n  /**\n   * Validate settings object.\n   */\n  validateSetting: function(setting) {\n    return window.HAXWiring.validateSetting(setting);\n  },\n  /**\n   * Match convention for set.\n   */\n  getHaxProperties: function() {\n    return this.haxProperties;\n  },\n  /**\n   * Convert haxProperties structure to a simple json-schema.\n   * This allows for complex form building systems based on this data.\n   * type is configure or advanced\n   */\n  getHaxJSONSchema: function(type, haxProperties, target = this) {\n    return window.HAXWiring.getHaxJSONSchema(type, haxProperties, target);\n  },\n  /**\n   * Default postProcessgetHaxJSONSchema to be overridden.\n   */\n  postProcessgetHaxJSONSchema: function(schema) {\n    return window.HAXWiring.postProcessgetHaxJSONSchema(schema);\n  },\n  /**\n   * Internal helper for getHaxJSONSchema to buiild the properties object\n   * correctly with support for recursive nesting thx to objects / arrays.\n   */\n  _getHaxJSONSchemaProperty: function(settings, target) {\n    return window.HAXWiring._getHaxJSONSchemaProperty(settings, target);\n  },\n  /**\n   * Convert input method to schedma type\n   */\n  getHaxJSONSchemaType: function(inputMethod) {\n    return window.HAXWiring.getHaxJSONSchemaType(inputMethod);\n  },\n  /**\n   * List valid input methods.\n   */\n  validHAXPropertyInputMethod: function() {\n    return window.HAXWiring.validHAXPropertyInputMethod();\n  },\n  /**\n   * Return a haxProperties prototype / example structure\n   */\n  prototypeHaxProperties: function() {\n    return window.HAXWiring.prototypeHaxProperties();\n  }\n};\n"],"names":["HAXWiring","haxProperties","canScale","canPosition","canEditSource","settings","quick","configure","advanced","wipeSlot","setHaxProperties","props","tag","context","document","isReady","_typeof","api","gizmo","i","length","_this","validateSetting","splice","push","attribute","title","description","inputMethod","saveOptions","window","HaxStore","evt","CustomEvent","bubbles","cancelable","detail","toLowerCase","properties","polymer","dispatchEvent","instance","elementList","tagName","_setHaxProperties","console","warn","setting","property","slot","type","icon","options","required","validation","validationType","getHaxProperties","getHaxJSONSchema","target","schema","$schema","_getHaxJSONSchemaProperty","postProcessgetHaxJSONSchema","value","hasOwnProperty","getHaxJSONSchemaType","format","pattern","component","name","valueProperty","attributes","val","id","readOnly","theme","mode","fontsize","className","items","constructor","Array","iconList","autoUpdateDate","style","cssText","getAttribute","dom","childNodes","nodeType","innerHTML","textContent","validHAXPropertyInputMethod","includes","prototypeHaxProperties","color","groups","handles","url","meta","author","unsetAttributes","HAXBehaviors","PropertiesBehaviors","this","addEventListener","_haxStoreReady","bind","ready","e"],"mappings":"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"}